<div className="container-fluid">
    <div className="row">
        <app-header [showSidebarToggle]="false" [showHomeButton]="false"></app-header>
    </div>
</div>

<div class="container-fluid top-step">
    <div class="row">
      <div class="col-12">
        <h3 class="page-title">–°–ø–∏—Å–æ–∫ –∑–∞–≤–µ–¥–µ–Ω–∏–π</h3>
        <h6 class="page-title-second-text">
          –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω–æ –∏–∑ –í–∞—à–∏—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ üîë
        </h6>
      </div>
    </div>
    <hr>
    <app-page-loader [show]="loader"></app-page-loader>
    <div class="row" *ngIf="!loader">
      <div class="col-sm-12 col-md-3" *ngFor="let company of companies" (click)="onCompanyClick(company)">
        <div class="card shadow">
          <div class="left-part">
            <span class="material-icons-outlined left-part-icon">store</span>
          </div>
          <div class="right-part">
            <div class="content">
              <h5>{{company.name}}</h5>
              <p>{{company.address}}</p>
            </div>
            <div class="footer">
              <button mdbBtn color="indigo" size="sm" class="company-btn" mdbWavesEffect>–í—ã–±—Ä–∞—Ç—å</button>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-3 d-flex justify-content-center align-items-center">
        <div class="new-company-card" (click)="createCompanyClick()">
          <div class="new-company-card-left">
            <span class="material-icons-outlined">add_business</span>
          </div>
          <div class="new-company-card-right">
            <span>+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–µ–¥–µ–Ω–∏–µ</span>
          </div>
        </div>
      </div>
    </div>
</div>

<ng-template #createCompanyModal>
  <div class="container-fluid">
    <form [formGroup]="createForm" (ngSubmit)="createSubmit()">
      <ng-container *ngIf="!modalLoader">
          <div class="row">
              <div class="col-12 mt-2">
                  <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                  <input type="text" formControlName="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" id="name" class="form-control">
                  <small class="invalid" *ngIf="createForm.get('name').invalid && submitted">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ</small>
              </div>
              <div class="col-12 mt-2">
                  <label for="address">–ê–¥—Ä–µ—Å—Å</label>
                  <input type="address" formControlName="address" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å—Å" id="address" class="form-control">
                  <small class="invalid" *ngIf="createForm.get('address').invalid && submitted">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ</small>
              </div>
          </div>
      </ng-container>

      <div class="row mt-2">
          <div class="col-12 d-flex justify-content-end">
              <div class="spinner-border spinner-border-sm" role="status" *ngIf="modalLoader">
                  <span class="sr-only">Loading...</span>
              </div>
              <button mdbBtn size="sm" color="success" type="submit"
                [disabled]="modalLoader" *ngIf="!isEdit">–°–æ–∑–¥–∞—Ç—å</button>

              <button mdbBtn size="sm" color="primary" type="button" (click)="saveEmployeeChanges()"
                [disabled]="modalLoader" *ngIf="isEdit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
          </div>
      </div>
    </form>
  </div>
</ng-template>